(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const c of i.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function n(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(r){if(r.ep)return;r.ep=!0;const i=n(r);fetch(r.href,i)}})();const o={SCRIPT_ID:"scrollingEffects",ROOT_MARGIN_TOP_DESKTOP:5,ROOT_MARGIN_BOT_DESKTOP:20,ROOT_MARGIN_TOP_MOBILE:20,ROOT_MARGIN_BOT_MOBILE:25,MOBILE_WIDTH_CUTOFF_PX:640,MOBILE_TOP_PADDING_VH:40,INTERSECTION_RATE:100,BLUR_STRENGTH_MAX:20,MECH_ROTATE_MAX:.2,MECH_PERSPECTIVE_AMT:40,MECH_SCALE_AMT:.5,BRIGHTNESS_MIN:2,BRIGHTNESS_MAX:1,VIGNETTE_EFFECT_ENABLE:!1,CAPTION_FADEIN_ENABLE:!1,CAPTION_FADEIN_THRESHOLD:.8,OBSERVER_RESET_WATCHER_INTERVAL:200,DEBUG:!1};function u(t){var e;return(e=t.shadowRoot)==null?void 0:e.querySelector(".media")}function _(t,{filter:e,transform:n}){const s=u(t);if(!s)return Error(`Vignette does not have a .media element!
`,t);s.style.filter=e,s.style.transform=n}function R(t){const e=`blur(${o.BLUR_STRENGTH_MAX}px) brightness(${o.BRIGHTNESS_MIN*100}%)`,n=`perspective(${o.MECH_PERSPECTIVE_AMT}vw) rotateX(${o.MECH_ROTATE_MAX}turn) scale(${o.MECH_SCALE_AMT}`;return _(t,{filter:e,transform:n})}function d(t,e){return t.documentElement.clientWidth<o.MOBILE_WIDTH_CUTOFF_PX}function f(t){const e=t.getElementsByTagName("media-item");return Object.values(e).sort()}function T(t,e){e.forEach(n=>{t.observe(n)})}function O(t){let e=!1;return n=>{const s=n==t;return!s&&!e?(e=!0,!1):!s||!e?!1:(e=!1,!0)}}function m(t){let e=[];store.subscribe(()=>{const n=store.getState().frontendState.renderedPages;n!==e&&(n.filter(s=>!e.includes(s)).forEach(t),e=n)})}function E(t,e){t.disconnect();const n=f(e);T(t,n)}function g(t){const e=d(t),n=e?o.ROOT_MARGIN_TOP_MOBILE:o.ROOT_MARGIN_TOP_DESKTOP,s=e?o.ROOT_MARGIN_BOT_MOBILE:o.ROOT_MARGIN_BOT_DESKTOP,i={threshold:Array(o.INTERSECTION_RATE).fill(0).map((c,a)=>a/o.INTERSECTION_RATE),root:null,rootMargin:`-${n}% 0% -${s}% 0% `};return new IntersectionObserver(M,i)}function M(t){t.forEach(e);return;function e(n){const s=n.target;if(!u(s))return;const r=n.intersectionRatio,i=n.boundingClientRect.top<n.rootBounds.top,c=A(r),a=S(r,i),I=r.toString(),l=_(s,{filter:c,transform:a});l&&console.warn(l),n.target.style.opacity=I}}function A(t){const e=o.BLUR_STRENGTH_MAX-Math.round(t*o.BLUR_STRENGTH_MAX),n=t*(o.BRIGHTNESS_MAX-o.BRIGHTNESS_MIN)+o.BRIGHTNESS_MIN;return`blur(${e}px) brightness(${n*100}%)`}function S(t,e){if(t==1)return"";const n=o.MECH_PERSPECTIVE_AMT,s=o.MECH_ROTATE_MAX-t*o.MECH_ROTATE_MAX,r=e?s:-s,c=1-o.MECH_SCALE_AMT+t*o.MECH_SCALE_AMT;return`perspective(${n}vw) rotateX(${r}turn) scale(${c})  `}C();function C(){console.log("Scrolling effects by @oxgr");const t=document.querySelector(`#${o.SCRIPT_ID}`);t||console.warn(`Script element could not be found!
Does the ID set on the element in Cargo match Params.SCRIPT_ID?

SCRIPT_ID: '${o.SCRIPT_ID}'

ID is required to track page element changes and reset IntersectionObserver reliably.
Proceeding with timer reset...`);const e=f(document),n=g(document);if(T(n,e),e.forEach((r,i)=>{i!=0&&R(r)}),t){m(r=>{r.querySelector(`#${o.SCRIPT_ID}`)&&E(n,document)});return}const s=O("/");setInterval(()=>{s(window.location.pathname)&&E(n,document)},o.OBSERVER_RESET_WATCHER_INTERVAL)}
