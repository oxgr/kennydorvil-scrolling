(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))o(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&o(a)}).observe(document,{childList:!0,subtree:!0});function s(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function o(n){if(n.ep)return;n.ep=!0;const i=s(n);fetch(n.href,i)}})();const t={ROOT_MARGIN_TOP_DESKTOP:5,ROOT_MARGIN_BOT_DESKTOP:20,ROOT_MARGIN_TOP_MOBILE:20,ROOT_MARGIN_BOT_MOBILE:25,MOBILE_WIDTH_CUTOFF_PX:640,MOBILE_TOP_PADDING_VH:40,INTERSECTION_RATE:100,BLUR_STRENGTH_MAX:20,MECH_ROTATE_MAX:.2,MECH_PERSPECTIVE_AMT:40,MECH_SCALE_AMT:.5,OPACITY_MIN:0,CAPTION_FADEIN_ENABLE:!1,CAPTION_FADEIN_THRESHOLD:.8,OBSERVER_RESET_WATCHER_INTERVAL:200,DEBUG:!1};function m(r){var e;return(e=r.shadowRoot)==null?void 0:e.querySelector(".media")}function M(r,{filter:e,transform:s}){const o=m(r);if(!o)throw Error("Vignette does not have a .media element!");o.style.filter=e,o.style.transform=s}function B(r){const e=`blur(${t.BLUR_STRENGTH_MAX}px) brightness(${t.OPACITY_MIN*100}%)`,s=`perspective(${t.MECH_PERSPECTIVE_AMT}vw) rotateX(${t.MECH_ROTATE_MAX}turn) scale(${t.MECH_SCALE_AMT}`;return M(r,{filter:e,transform:s})}function H(r,e){return r.documentElement.clientWidth<t.MOBILE_WIDTH_CUTOFF_PX}function O(r){const e=r.getElementsByTagName("media-item");return Object.values(e).sort()}function A(r,e){e.forEach(s=>{r.observe(s)})}function L(r){let e=!1;return s=>{const o=s==r;return!o&&!e?(e=!0,!1):!o||!e?!1:(e=!1,!0)}}function b(r){const e=H(r),s=e?t.ROOT_MARGIN_TOP_MOBILE:t.ROOT_MARGIN_TOP_DESKTOP,o=e?t.ROOT_MARGIN_BOT_MOBILE:t.ROOT_MARGIN_BOT_DESKTOP,i={threshold:Array(t.INTERSECTION_RATE).fill(0).map((E,l)=>l/t.INTERSECTION_RATE),root:null,rootMargin:`-${s}% 0% -${o}% 0% `};return new IntersectionObserver(a,i);function a(E){E.forEach(l=>{const _=l.target;if(!m(_))return;const T=l.intersectionRatio,R=l.rootBounds.top,I=l.boundingClientRect.top<R,d=C(T),g=h(T,I);try{M(_,{filter:d,transform:g})}catch(c){console.error(c)}return;function p(c){return`${c*(1-t.OPACITY_MIN)+t.OPACITY_MIN}`}function C(c){return`blur(${t.BLUR_STRENGTH_MAX-Math.round(c*t.BLUR_STRENGTH_MAX)}px) brightness(${p(c)*100}%)`}function h(c,u){if(c==1)return"";const N=t.MECH_PERSPECTIVE_AMT,f=t.MECH_ROTATE_MAX-c*t.MECH_ROTATE_MAX,P=u?f:-f,S=1-t.MECH_SCALE_AMT+c*t.MECH_SCALE_AMT;return`perspective(${N}vw) rotateX(${P}turn) scale(${S})  `}})}}v();function v(){console.log("Scrolling effects by @oxgr");const r=O(document),e=b(document);A(e,r),r.forEach(o=>{var n;(n=o.href)!=null&&n.includes("01")||B(o)});const s=L("/");setInterval(()=>{if(!s(window.location.pathname))return;e.disconnect();const o=O(document);A(e,o)},t.OBSERVER_RESET_WATCHER_INTERVAL)}
