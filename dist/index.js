(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))o(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const c of i.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&o(c)}).observe(document,{childList:!0,subtree:!0});function n(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function o(r){if(r.ep)return;r.ep=!0;const i=n(r);fetch(r.href,i)}})();const s={ROOT_MARGIN_TOP_DESKTOP:5,ROOT_MARGIN_BOT_DESKTOP:20,ROOT_MARGIN_TOP_MOBILE:20,ROOT_MARGIN_BOT_MOBILE:25,MOBILE_WIDTH_CUTOFF_PX:640,MOBILE_TOP_PADDING_VH:40,INTERSECTION_RATE:100,BLUR_STRENGTH_MAX:20,MECH_ROTATE_MAX:.2,MECH_PERSPECTIVE_AMT:40,MECH_SCALE_AMT:.5,OPACITY_MIN:0,VIGNETTE_EFFECT_ENABLE:!1,CAPTION_FADEIN_ENABLE:!1,CAPTION_FADEIN_THRESHOLD:.8,OBSERVER_RESET_WATCHER_INTERVAL:200,DEBUG:!1};function _(t){var e;return(e=t.shadowRoot)==null?void 0:e.querySelector(".media")}function u(t,{filter:e,transform:n}){const o=_(t);if(!o)throw Error("Vignette does not have a .media element!");o.style.filter=e,o.style.transform=n}function f(t){const e=`blur(${s.BLUR_STRENGTH_MAX}px) brightness(${s.OPACITY_MIN*100}%)`,n=`perspective(${s.MECH_PERSPECTIVE_AMT}vw) rotateX(${s.MECH_ROTATE_MAX}turn) scale(${s.MECH_SCALE_AMT}`;return u(t,{filter:e,transform:n})}function O(t,e){return t.documentElement.clientWidth<s.MOBILE_WIDTH_CUTOFF_PX}function E(t){const e=t.getElementsByTagName("media-item");return Object.values(e).sort()}function a(t,e){e.forEach(n=>{t.observe(n)})}function A(t){let e=!1;return n=>{const o=n==t;return!o&&!e?(e=!0,!1):!o||!e?!1:(e=!1,!0)}}function m(t){const e=O(t),n=e?s.ROOT_MARGIN_TOP_MOBILE:s.ROOT_MARGIN_TOP_DESKTOP,o=e?s.ROOT_MARGIN_BOT_MOBILE:s.ROOT_MARGIN_BOT_DESKTOP,i={threshold:Array(s.INTERSECTION_RATE).fill(0).map((c,l)=>l/s.INTERSECTION_RATE),root:null,rootMargin:`-${n}% 0% -${o}% 0% `};return new IntersectionObserver(M,i)}function M(t){t.forEach(e);return;function e(n){const o=n.target;if(!_(o))return;const r=n.intersectionRatio,i=n.boundingClientRect.top<n.rootBounds.top,c=R(r),l=d(r,i);try{u(o,{filter:c,transform:l})}catch(T){console.error(T)}}}function I(t){return`${t*(1-s.OPACITY_MIN)+s.OPACITY_MIN}`}function R(t){return`blur(${s.BLUR_STRENGTH_MAX-Math.round(t*s.BLUR_STRENGTH_MAX)}px) brightness(${I(t)*100}%)`}function d(t,e){if(t==1)return"";const n=s.MECH_PERSPECTIVE_AMT,o=s.MECH_ROTATE_MAX-t*s.MECH_ROTATE_MAX,r=e?o:-o,c=1-s.MECH_SCALE_AMT+t*s.MECH_SCALE_AMT;return`perspective(${n}vw) rotateX(${r}turn) scale(${c})  `}g();function g(){console.log("Scrolling effects by @oxgr");const t=E(document),e=m(document);a(e,t),t.forEach(o=>{var r;(r=o.href)!=null&&r.includes("01")||f(o)});const n=A("/");setInterval(()=>{if(!n(window.location.pathname))return;e.disconnect();const o=E(document);a(e,o)},s.OBSERVER_RESET_WATCHER_INTERVAL)}
