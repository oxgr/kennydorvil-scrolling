(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const c of i.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&n(c)}).observe(document,{childList:!0,subtree:!0});function s(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(r){if(r.ep)return;r.ep=!0;const i=s(r);fetch(r.href,i)}})();const o={ROOT_MARGIN_TOP_DESKTOP:5,ROOT_MARGIN_BOT_DESKTOP:20,ROOT_MARGIN_TOP_MOBILE:20,ROOT_MARGIN_BOT_MOBILE:25,MOBILE_WIDTH_CUTOFF_PX:640,MOBILE_TOP_PADDING_VH:40,INTERSECTION_RATE:100,BLUR_STRENGTH_MAX:20,MECH_ROTATE_MAX:.2,MECH_PERSPECTIVE_AMT:40,MECH_SCALE_AMT:.5,OPACITY_MIN:0,VIGNETTE_EFFECT_ENABLE:!1,CAPTION_FADEIN_ENABLE:!1,CAPTION_FADEIN_THRESHOLD:.8,OBSERVER_RESET_WATCHER_INTERVAL:200,DEBUG:!1};function _(t){var e;return(e=t.shadowRoot)==null?void 0:e.querySelector(".media")}function u(t,{filter:e,transform:s}){const n=_(t);if(!n)throw Error("Vignette does not have a .media element!");n.style.filter=e,n.style.transform=s}function T(t){const e=`blur(${o.BLUR_STRENGTH_MAX}px) brightness(${o.OPACITY_MIN*100}%)`,s=`perspective(${o.MECH_PERSPECTIVE_AMT}vw) rotateX(${o.MECH_ROTATE_MAX}turn) scale(${o.MECH_SCALE_AMT}`;return u(t,{filter:e,transform:s})}function f(t,e){return t.documentElement.clientWidth<o.MOBILE_WIDTH_CUTOFF_PX}function E(t){const e=t.getElementsByTagName("media-item");return Object.values(e).sort()}function a(t,e){e.forEach(s=>{t.observe(s)})}function O(t){let e=!1;return s=>{const n=s==t;return!n&&!e?(e=!0,!1):!n||!e?!1:(e=!1,!0)}}function A(t){const e=f(t),s=e?o.ROOT_MARGIN_TOP_MOBILE:o.ROOT_MARGIN_TOP_DESKTOP,n=e?o.ROOT_MARGIN_BOT_MOBILE:o.ROOT_MARGIN_BOT_DESKTOP,i={threshold:Array(o.INTERSECTION_RATE).fill(0).map((c,l)=>l/o.INTERSECTION_RATE),root:null,rootMargin:`-${s}% 0% -${n}% 0% `};return new IntersectionObserver(m,i)}function m(t){t.forEach(e);return;function e(){const s=entry.target;if(!_(s))return;const n=entry.intersectionRatio,r=entry.boundingClientRect.top<entry.rootBounds.top,i=I(n),c=R(n,r);try{u(s,{filter:i,transform:c})}catch(l){console.error(l)}}}function M(t){return`${t*(1-o.OPACITY_MIN)+o.OPACITY_MIN}`}function I(t){return`blur(${o.BLUR_STRENGTH_MAX-Math.round(t*o.BLUR_STRENGTH_MAX)}px) brightness(${M(t)*100}%)`}function R(t,e){if(t==1)return"";const s=o.MECH_PERSPECTIVE_AMT,n=o.MECH_ROTATE_MAX-t*o.MECH_ROTATE_MAX,r=e?n:-n,c=1-o.MECH_SCALE_AMT+t*o.MECH_SCALE_AMT;return`perspective(${s}vw) rotateX(${r}turn) scale(${c})  `}d();function d(){console.log("Scrolling effects by @oxgr");const t=E(document),e=A(document);a(e,t),t.forEach(n=>{var r;(r=n.href)!=null&&r.includes("01")||T(n)});const s=O("/");setInterval(()=>{if(!s(window.location.pathname))return;e.disconnect();const n=E(document);a(e,n)},o.OBSERVER_RESET_WATCHER_INTERVAL)}
